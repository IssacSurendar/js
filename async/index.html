<!DOCTYPE html>
<html lang="en">
    <head>
        <title>async</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="./style.js"></script>
    </head>
    <body>

        <div class="container mt-5">
            <div class="row">
                <div class="col-md-12">
                    <div class="card p-3">
                        <h3 class="fw-bold">Callback</h3>
                        <p>A function that is passed into another function as a parameter then invoked by that other function. <a href="" onclick="call(event)">click</a></p>
                        <h6>A function with another function as arguments</h6>
<pre class="bg-dark text-white p-3 rounded mb-0">
function callback(){
    console.log('Coming from the callback')
}

function highOrder(fn){
    console.log('before callback')
    console.log(fn())
    console.log('after callback')
}

highOrder(callback)
</pre>

                        <h3 class="fw-bold mt-4">Callbacks with anonymous functions</h3>
<pre class="bg-dark text-white p-3 rounded mb-0">
function greet(name, formatter){
    return "welcome to, " + formatter(name)
}

greet("job at you", function(name){
    return name.toUpperCase()
})

greet("virtualschool", function(name){
    return name + "!!!";
})
</pre>
                    </div>
                </div>

<div class="col-md-12 my-4">
                    
<div class="card p-3">
<h3 class="fw-bold">Promise</h3>
<p class="mb-2">A promise is an object that represents a task that will be completed in the future.</p>
<ul class="ps-3 mb-2">
    <li>Define a promise</li>
    <li>Add a .then callback to a promise</li>
    <li>Add a .catch callback to a promise</li>
</ul>
<pre class="bg-dark text-white p-3 rounded mb-0">
var p1 = new Promise(function(resolve, reject){
    resolve([1,2,3,4])
})

p1.then(function(arr){
    console.log('Promise p1 resolved with data:', arr)
})
</pre>

<!-- error handling -->
<h3 class="fw-bold mt-3">Promise : Error handling</h3>
<pre class="bg-dark text-white p-3 rounded mb-0">
var p1 = new Promise(function(resolve, reject){
    reject('Error')
})

p1.then(function(arr){
    console.log('promise p1 was resolved with data:', arr)
}).catch(function(data){
    console.log('promise p1 was rejected with data:', data)
}) 
</pre>


<pre class="bg-dark text-white p-3 rounded mb-0 mt-3">
var p1 = new Promise(function(resolve, reject){
    var num = Math.random()
    if(num < 0.5){
        resolve(num)
    }else{
        reject(num)
    }
})

p1.then(function(result){
    console.log('success : ', result)
}).catch(function(data){
    console.log('error : ', result)
}) 
</pre>




<!-- promis with async code -->
<h3 class="fw-bold mt-3">Promise with async code</h3>
<pre class="bg-dark text-white p-3 rounded mb-0">
var p1 = new Promise(function(resolve, reject){
    setTimeout(function(){
        var randint = Math.floor(Math.random() * 10)
        resolve(randint)
    }, 4000)
})

p1.then(function(data){
    console.log('success : ', data)
}).catch(function(data){
    console.log('error : ', data)
}) 
</pre>


<!-- promise chaining -->
<h3 class="fw-bold mt-3">Promise chaining</h3>
<pre class="bg-dark text-white p-3 rounded mb-0">
var p1 = new Promise(function(resolve, reject){
    resolve(5)
})

p1.then(function(data){
    return data * 2
}).then(function(data){
    return data + 20
}).then(function(data){
    return data
})
</pre>







                    </div>








            </div>

        </div>

    </body>
</html>
